# 常见问题

## 如何调试React

## 引用antd区分环境

```js
import { DatePicker, LocaleProvider, Button, message, notification } from 'antd';

let zhCN = null;
if (process.env.NODE_ENV === 'production') {
    let antd = require('antd'); // 生产环境
    zhCN = antd.locales.zh_CN;
} else {
    zhCN = require('antd/lib/locale-provider/zh_CN'); // 开发环境
}

export default class App extends Component {
    render() {
        return (
            <LocaleProvider locale={zhCN}>
                <div>
                    <DatePicker />
                </div>
            </LocaleProvider>
        )
    }
}
```

## 引用antd首次打开速度太慢

1. 按需加载
1. 使用cdn(需要引用moment.js)

```js
module.exports = {
    mode: 'production',
    devtool: 'source-map',
    module: {
        rules: [{
            test: /\.(js|jsx)$/,
            loader: 'babel-loader',
            options: {
                presets: ['react'],
                plugins: [
                    ["import", { "libraryName": "antd", "style": "css" }]
                ]
            },
            exclude: /node_modules/
        }]
    },
}
```

```js
module.exports = {
    mode: 'development',
    devtool: 'inline-source-map',
    externals: {
        lodash: '_',
        react: 'React',
        'react-dom': 'ReactDOM',
        antd: 'antd'
    },
}
```

`npx webpack`