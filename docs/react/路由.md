# 路由

`npm i -S react-router react-router-dom`

[GitHub:ReactTraining/react-router](https://github.com/ReactTraining/react-router)

## 概念

React Router中有三种类型的组件：路由器组件(BrowserRouter)，路由匹配组件(Route)和导航组件(Link)。

### 路由器

每个React Router应用程序的核心应该是一个路由器组件。

对于Web项目，react-router-dom提供`BrowserRouter`和`HashRouter`路由器。

### 路由匹配组件

#### Route

path（string）: 路由匹配路径。（没有path属性的Route 总是会 匹配）；
exact（bool）：为true时，则要求路径与location.pathname必须完全匹配；
strict（bool）：true的时候，有结尾斜线的路径只能匹配有斜线的location.pathname；

strict示例：

路径|location.pathname|strict|是否匹配
:--:|:--:|:--:|:--:
/one/|/one|true|否
/one/|/one/|true|是
/one/|/one/two|true|是

## Code Split

WebPack，babel-plugin-syntax-dynamic-import和react-loadable。

babel-plugin-syntax-dynamic-import:

意味着Babel不会做任何额外的转换。该插件只是允许Babel解析动态导入

`npm i babel-plugin-syntax-dynamic-import react-loadable -S`

```js
{
  "presets": [
    "react"
  ],
  "plugins": [
    "syntax-dynamic-import"
  ]
}
```

```js
import Loadable from 'react-loadable';
import Loading from './Loading';

const Clock = Loadable({
  loader: () => import('./Clock'),
  loading: Loading,
});

export default class LoadableClock extends React.Component {
  render() {
    return <Clock />;
  }
}
```